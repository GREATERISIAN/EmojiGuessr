{"version":3,"file":"index.js","sources":["../src/appendSkinToneIndex.ts","../src/fetchFromCDN.ts","../src/constants.ts","../src/fetchShortcodes.ts","../src/joinShortcodesToEmoji.ts","../src/flattenEmojiData.ts","../src/joinShortcodes.ts","../src/fetchEmojis.ts","../src/fetchMetadata.ts","../src/fromCodepointToUnicode.ts","../src/fromHexcodeToCodepoint.ts","../src/fromUnicodeToHexcode.ts","../src/generateEmoticonPermutations.ts","../src/stripHexcode.ts","../src/index.ts"],"sourcesContent":null,"names":["appendSkinToneIndex","shortcode","emoji","prefix","Array","isArray","tone","join","fetchFromCDN","path","options","local","version","opts","__DEV__","slice","Error","storage","localStorage","sessionStorage","cacheKey","cachedData","getItem","Promise","resolve","JSON","parse","fetch","credentials","mode","redirect","then","response","ok","json","data","setItem","stringify","error","SEQUENCE_REMOVAL_PATTERN","TEXT","EMOJI","FEMALE","MALE","LIGHT_SKIN","MEDIUM_LIGHT_SKIN","MEDIUM_SKIN","MEDIUM_DARK_SKIN","DARK_SKIN","GROUP_KEY_SMILEYS_EMOTION","GROUP_KEY_PEOPLE_BODY","GROUP_KEY_ANIMALS_NATURE","GROUP_KEY_FOOD_DRINK","GROUP_KEY_TRAVEL_PLACES","GROUP_KEY_ACTIVITIES","GROUP_KEY_OBJECTS","GROUP_KEY_SYMBOLS","GROUP_KEY_FLAGS","GROUP_KEY_COMPONENT","SKIN_KEY_LIGHT","SKIN_KEY_MEDIUM_LIGHT","SKIN_KEY_MEDIUM","SKIN_KEY_MEDIUM_DARK","SKIN_KEY_DARK","LATEST_EMOJI_VERSION","LATEST_UNICODE_VERSION","LATEST_CLDR_VERSION","FIRST_UNICODE_EMOJI_VERSION","EMOJI_VERSIONS","UNICODE_VERSIONS","SUPPORTED_LOCALES","NON_LATIN_LOCALES","EMOTICON_OPTIONS","withNose","isFace","ALIASES","discord","slack","fetchShortcodes","locale","preset","includes","joinShortcodesToEmoji","shortcodeDatasets","length","list","Set","shortcodes","forEach","dataset","hexcode","code","add","from","skins","skin","flattenEmojiData","emojis","baseEmoji","push","skinEmoji","tags","joinShortcodes","fetchEmojis","compact","flat","presets","all","map","promise","customLocale","customPreset","split","catch","fetchMetadata","fromCodepointToUnicode","codepoint","String","fromCodePoint","fromHexcodeToCodepoint","joiner","point","Number","parseInt","fromUnicodeToHexcode","unicode","strip","hex","codePointAt","toString","toUpperCase","match","generateEmoticonPermutations","emoticon","replace","emo","sort","a","b","STRIP_PATTERN","RegExp","source","stripHexcode"],"mappings":"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"}